<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç•™è¨€åŒº - HDU-Lolitaçˆ±å¥½ç«™</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- é¡¶éƒ¨å¯¼èˆª -->
    <header>
        <h1>ç•™è¨€åŒº</h1>
        <nav>
            <a href="index.html">é¦–é¡µ</a>
            <a href="sales.html">è´©å”®ä¿¡æ¯</a>
            <a href="message.html" class="active">ç•™è¨€åŒº</a>
        </nav>
    </header>

    <!-- ä¸»ä½“å†…å®¹ -->
    <main>
        <h2 style="text-align:center; margin:20px 0;">æ¬¢è¿ç•™ä¸‹ä½ çš„æ„è§æˆ–åˆ†äº«ç©¿æ­å¿ƒå¾— âœ¨</h2>

        <form id="messageForm">
            <label>æ˜µç§°ï¼š
                <input type="text" name="username" required placeholder="è¯·è¾“å…¥ä½ çš„æ˜µç§°">
            </label><br><br>

            <label>é‚®ç®±ï¼š
                <input type="email" name="email" placeholder="å¯é€‰å¡«å†™">
            </label><br><br>

            <label>ä¸»é¢˜ï¼š
                <select name="topic">
                    <option value="suggestion">ç½‘ç«™å»ºè®®</option>
                    <option value="share">ç©¿æ­åˆ†äº«</option>
                    <option value="other">å…¶ä»–</option>
                </select>
            </label><br><br>

            <label>ç•™è¨€å†…å®¹ï¼š</label><br>
            <textarea name="message" rows="5" cols="50" placeholder="è¯·è¾“å…¥ç•™è¨€å†…å®¹..." required></textarea><br><br>

            <label>
                <input type="checkbox" required> æˆ‘å·²é˜…è¯»å¹¶åŒæ„éšç§æ”¿ç­–
            </label><br><br>

            <button type="submit">æäº¤ç•™è¨€</button>
        </form>

        <!-- æ–°å¢ï¼šæŸ¥çœ‹ç•™è¨€æŒ‰é’® -->
        <div style="text-align:center; margin-top:30px;">
            <button onclick="window.location.href='message-list.html'" 
                    style="background-color:#f7a9c4; color:#fff; border:none; padding:10px 20px; border-radius:8px; cursor:pointer;">
                ğŸ’• æŸ¥çœ‹æ‰€æœ‰ç•™è¨€ ğŸ’•
            </button>
        </div>
    </main>

    <!-- é¡µè„š -->
    <footer>
        <p>Â© 2025 HDU-Lolitaçˆ±å¥½ç«™ | é‚®ç®±ï¼šhdu-lolita@xx.edu.cn</p>
    </footer>

    <!-- JSï¼šä½¿ç”¨ localStorage ä¿å­˜ç•™è¨€ -->
    <script>
        document.getElementById("messageForm").addEventListener("submit", function(e) {
            e.preventDefault(); // é˜»æ­¢é»˜è®¤åˆ·æ–°

            // è·å–è¡¨å•å†…å®¹
            const name = this.username.value.trim();
            const email = this.email.value.trim();
            const topic = this.topic.value;
            const msg = this.message.value.trim();

            // ç”Ÿæˆç•™è¨€å¯¹è±¡
            const newMessage = {
                name,
                email,
                topic,
                msg,
                time: new Date().toLocaleString()
            };

            // è·å–å·²æœ‰ç•™è¨€å¹¶ä¿å­˜
            const existing = JSON.parse(localStorage.getItem("messages") || "[]");
            existing.push(newMessage);
            localStorage.setItem("messages", JSON.stringify(existing));

            alert("ç•™è¨€å·²ä¿å­˜åˆ°æœ¬åœ°æµè§ˆå™¨ ğŸŒ¸");
            this.reset(); // æ¸…ç©ºè¡¨å•
        });
    </script>
</body>
</html>
